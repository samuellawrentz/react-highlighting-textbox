/*! For license information please see HighlightInputBox-Highlight-story.0ffc7500.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkreact_highlighting_textbox=self.webpackChunkreact_highlighting_textbox||[]).push([[890],{"./src/components/HighlightInputBox/Highlight.story.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>Highlight_story});var react=__webpack_require__("./node_modules/react/index.js"),react_contenteditable=__webpack_require__("./node_modules/react-contenteditable/lib/react-contenteditable.js"),react_contenteditable_default=__webpack_require__.n(react_contenteditable),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),styles=__webpack_require__("./node_modules/css-loader/dist/cjs.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./src/components/HighlightInputBox/styles.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(styles.Z,options);styles.Z&&styles.Z.locals&&styles.Z.locals;class HightlightInputBox extends react.Component{constructor(props){super(props),this.getHTML=value=>{const word=this.props.word||"",rg=new RegExp(word,"gi");this.props.hightlightClassName;return(value||this.ref.current.textContent).replace(rg,`<span class="sam-react-highlight-span">${word}</span>`)},this.handleChange=value=>{this.setState({html:this.getHTML(value)},(()=>{this.props.onChange&&this.props.onChange(this.ref.current.textContent)}))},this.render=()=>react.createElement(react_contenteditable_default(),{className:classnames_default()("sam-react-highlight-inputbox",this.props.className),innerRef:this.ref,html:this.state.html,disabled:!1,onChange:this.handleChange.bind(this,null)}),this.state={html:this.getHTML(props.value)},this.ref=react.createRef()}componentDidUpdate(prevProps,prevState){prevProps.value===this.props.value&&prevProps.word===this.props.word||this.handleChange(this.props.value)}}const Highlight_story={title:"Hightlight Inputbox",component:HightlightInputBox},Default={args:{value:"This is a test",word:"test",onChange:value=>console.log(value)}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    value: 'This is a test',\n    word: 'test',\n    onChange: value => console.log(value)\n  }\n}",...Default.parameters?.docs?.source}}}},"./node_modules/classnames/index.js":(module,exports)=>{var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);inner&&classes.push(inner)}}else if("object"===argType){if(arg.toString!==Object.prototype.toString&&!arg.toString.toString().includes("[native code]")){classes.push(arg.toString());continue}for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}}return classes.join(" ")}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},"./node_modules/css-loader/dist/cjs.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./src/components/HighlightInputBox/styles.scss":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".sam-react-highlight-span{color:red}.sam-react-highlight-inputbox[contenteditable=true]{white-space:nowrap;overflow:hidden}.sam-react-highlight-inputbox[contenteditable=true] br{display:none}.sam-react-highlight-inputbox[contenteditable=true] *{display:inline;white-space:nowrap}","",{version:3,sources:["webpack://./src/components/HighlightInputBox/styles.scss"],names:[],mappings:"AAAA,0BACE,SAAA,CAEF,oDACE,kBAAA,CACA,eAAA,CAEF,uDACE,YAAA,CAEF,sDACE,cAAA,CACA,kBAAA",sourcesContent:[".sam-react-highlight-span {\n  color: red;\n}\n.sam-react-highlight-inputbox[contenteditable='true'] {\n  white-space: nowrap;\n  overflow: hidden;\n}\n.sam-react-highlight-inputbox[contenteditable='true'] br {\n  display: none;\n}\n.sam-react-highlight-inputbox[contenteditable='true'] * {\n  display: inline;\n  white-space: nowrap;\n}\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/fast-deep-equal/index.js":module=>{"use strict";module.exports=function equal(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){if(a.constructor!==b.constructor)return!1;var length,i,keys;if(Array.isArray(a)){if((length=a.length)!=b.length)return!1;for(i=length;0!=i--;)if(!equal(a[i],b[i]))return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();if((length=(keys=Object.keys(a)).length)!==Object.keys(b).length)return!1;for(i=length;0!=i--;)if(!Object.prototype.hasOwnProperty.call(b,keys[i]))return!1;for(i=length;0!=i--;){var key=keys[i];if(!equal(a[key],b[key]))return!1}return!0}return a!=a&&b!=b}},"./node_modules/react-contenteditable/lib/react-contenteditable.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var React=__importStar(__webpack_require__("./node_modules/react/index.js")),fast_deep_equal_1=__importDefault(__webpack_require__("./node_modules/fast-deep-equal/index.js")),PropTypes=__importStar(__webpack_require__("./node_modules/prop-types/index.js"));function normalizeHtml(str){return str&&str.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>")}var ContentEditable=function(_super){function ContentEditable(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.lastHtml=_this.props.html,_this.el="function"==typeof _this.props.innerRef?{current:null}:React.createRef(),_this.getEl=function(){return(_this.props.innerRef&&"function"!=typeof _this.props.innerRef?_this.props.innerRef:_this.el).current},_this.emitChange=function(originalEvt){var el=_this.getEl();if(el){var html=el.innerHTML;if(_this.props.onChange&&html!==_this.lastHtml){var evt=Object.assign({},originalEvt,{target:{value:html}});_this.props.onChange(evt)}_this.lastHtml=html}},_this}return __extends(ContentEditable,_super),ContentEditable.prototype.render=function(){var _this=this,_a=this.props,tagName=_a.tagName,html=_a.html,innerRef=_a.innerRef,props=__rest(_a,["tagName","html","innerRef"]);return React.createElement(tagName||"div",__assign(__assign({},props),{ref:"function"==typeof innerRef?function(current){innerRef(current),_this.el.current=current}:innerRef||this.el,onInput:this.emitChange,onBlur:this.props.onBlur||this.emitChange,onKeyUp:this.props.onKeyUp||this.emitChange,onKeyDown:this.props.onKeyDown||this.emitChange,contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:html}}),this.props.children)},ContentEditable.prototype.shouldComponentUpdate=function(nextProps){var props=this.props,el=this.getEl();return!el||(normalizeHtml(nextProps.html)!==normalizeHtml(el.innerHTML)||(props.disabled!==nextProps.disabled||props.tagName!==nextProps.tagName||props.className!==nextProps.className||props.innerRef!==nextProps.innerRef||props.placeholder!==nextProps.placeholder||!(0,fast_deep_equal_1.default)(props.style,nextProps.style)))},ContentEditable.prototype.componentDidUpdate=function(){var el=this.getEl();el&&(this.props.html!==el.innerHTML&&(el.innerHTML=this.props.html),this.lastHtml=this.props.html,function replaceCaret(el){var target=document.createTextNode("");el.appendChild(target);var isTargetFocused=document.activeElement===el;if(null!==target&&null!==target.nodeValue&&isTargetFocused){var sel=window.getSelection();if(null!==sel){var range=document.createRange();range.setStart(target,target.nodeValue.length),range.collapse(!0),sel.removeAllRanges(),sel.addRange(range)}el instanceof HTMLElement&&el.focus()}}(el))},ContentEditable.propTypes={html:PropTypes.string.isRequired,onChange:PropTypes.func,disabled:PropTypes.bool,tagName:PropTypes.string,className:PropTypes.string,style:PropTypes.object,innerRef:PropTypes.oneOfType([PropTypes.object,PropTypes.func])},ContentEditable}(React.Component);exports.default=ContentEditable}}]);